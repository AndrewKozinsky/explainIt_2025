import { useGetIdlePhraseFromSelectedSentence, useGetSelectedSentence } from '_pages/books/reading/logic'
import { useIsButtonVisible } from './fn/buttonVisibilityAndText'
import { TranslatePhraseButton } from '../TranslatePhraseButton/TranslatePhraseButton'
import './TranslateButtonsBlock.scss'

function TranslateButtonsBlock() {
	return (
		<div className='translate-buttons-block'>
			<div>
				<TranslateIdlePhraseButton />
			</div>
			<div></div>
		</div>
	)
}

export default TranslateButtonsBlock

function TranslateIdlePhraseButton() {
	const selectedSentence = useGetSelectedSentence()
	const idlePhrase = useGetIdlePhraseFromSelectedSentence()

	const isButtonVisible = useIsButtonVisible()

	if (!isButtonVisible || !idlePhrase) {
		return null
	}

	return <TranslatePhraseButton sentenceId={selectedSentence.id} phraseWordIds={idlePhrase.wordIds} />
}
